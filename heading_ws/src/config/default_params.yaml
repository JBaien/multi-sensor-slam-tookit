# 姿态估计节点配置
# 复制此文件并根据需要自定义

# 输入/输出话题
pointcloud_topic: "/timoo_points"
base_frame: "world"
lidar_frame: "timoo"
attitude_topic: "/pose_wall/attitude"
distances_topic: "/pose_wall/distances"

# 前进轴配置
# 选项: +X, -X, +Y, -Y
forward_axis: "+X"

# 车体尺寸（米）
vehicle_length: 4.5    # 车体长度
vehicle_width: 1.2     # 车体宽度
track_length: 1.4      # 履带长度
track_width: 1.0       # 履带间距

# 中轴线采样点位置（米）
# 定义沿设备中轴线测量墙距的位置
sample_front_dist: 0.5   # 中心前方0.5米
sample_back_dist: -0.5    # 中心后方0.5米

# 地面平面估计参数
ground_roi_radius: 10.0          # 地面拟合ROI半径（米）
ground_z_percentile: 0.2        # 选择地面点的高度分位数
ground_inlier_min: 50           # 有效地面的最小内点数
ground_normal_threshold: 5.0     # 法向与水平的最大偏差（度）

# 墙面平面估计参数
wall_z_min: 0.5                  # 墙面提取的最小高度（米）
wall_z_max: 3.0                  # 墙面提取的最大高度（米）
wall_inlier_min: 300             # 有效墙面的最小内点数
wall_vertical_threshold: 0.2     # 垂直平面的最大|n_z|（余弦阈值）
wall_parallel_cos: 0.9           # 平行墙验证的余弦阈值

# 滤波参数
voxel_size: 0.05                 # 体素网格滤波尺寸（米）
outlier_mean_k: 30               # 统计离群点移除的邻居数量
outlier_std_mul: 1.5             # 离群点移除的标准差倍数

# 时域平滑参数
temporal_smoothing_tau: 0.3      # 指数平滑的时间常数（秒）
max_yaw_rate: 0.05236           # 最大航向角变化率（弧度/帧，约3度）

# 质量阈值
ground_max_rms: 0.10             # 地面平面的最大RMS误差（米）
wall_max_rms: 0.15               # 墙面平面的最大RMS误差（米）
